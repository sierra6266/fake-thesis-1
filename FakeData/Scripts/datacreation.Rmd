---
title: "data creation"
author: "Sierra"
date: "2023-07-27"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
# load libraries
```{r}
library(summarytools)
library(haven)
library(here)
library(coxed)
library(tableone)
library(tidyverse)
library(ggplot2)
library(tidylog)
```

#load transplant data
```{r}

heart = read_sas(here("Data", "stanreduced (1).sas7bdat"))

df = dfSummary(heart)
stview(df)

heart = heart %>%
  mutate(survt= case_when(dls<= 3650 ~ dls,
                   TRUE ~ NA_real_))


heart$dls
```


#Create fake data
```{r}

#create id variable
id = 1:1000

#smoking in preg
smk = c(sample(x = c("1", "2", "3", "4"), 
       prob = c(.85, .05, .05, .05),
       size = 1000, 
       replace = TRUE))

#antenatal care provider
care = sample(x = c("1", "2", "3", "4", "5"), 
       prob = c(.05, .17, .01, .75, .02),
       size = 1000, 
       replace = TRUE)

#maternal AI
matai = sample(x=c("0", "1"),
      prob = c(.976, .024),
      size=1000,
replace=TRUE)

# maternal comorbidities
comorb = sample(x=c("0", "1"),
      prob = c(.8, .2),
      size=1000,
replace=TRUE)

# antenatal steroids

ster = sample(x=c("0", "1"),
      prob = c(.95, .05),
      size=1000,
replace=TRUE)

#mode of delivery

del = sample(x=c("0", "1", "2"),
      prob = c(.05, .57, .38),
      size=1000,
replace=TRUE)

# Obstetric complications
comp = sample(x=c("0", "1"),
      prob = c(.7, .3),
      size=1000,
replace=TRUE)

# LMP season

seas = sample(x=c("1", "2", "3", "4"),
      prob = c(.253, .267, .244, .236),
      size=1000,
replace=TRUE)

#infant sex
sex= sample(x=c("0", "1"),
      prob = c(.49, .51),
      size=1000,
replace=TRUE)

#excusive bf

bf = sample(x=c("1", "2", "3", "4"),
      prob = c(.05, .55, .05, .35),
      size=1000,
replace=TRUE)

#multiple birth

multip = sample(x=c("0", "1"),
      prob = c(.967, .033),
      size=1000,
replace=TRUE)

#neighbourhood income quintile

quint = sample(x=c("1", "2", "3", "4", "5"),
      prob = c(.1, .2, .4, .2, .1),
      size=1000,
replace=TRUE)

#rural residence

rur = sample(x=c("0", "1"),
      prob = c(.83, .17),
      size=1000,
replace=TRUE)


#PHU

phu = sample(x=c("1", "2", "3", "4", "5", "6"),
      prob = c(.1, .2, .4, .2, .05, .05),
      size=1000,
replace=TRUE)

#outcome: child AI

out_ai = sample(x=c("0", "1"),
      prob = c(.995, .005),
      size=1000,
replace=TRUE)

#maternal age
#group
ageg = sample(x=c("1", "2", "3", "4"),
      prob = c(.034, .4, .52, .046),
      size=1000,
replace=TRUE)

#numeric
age = c(29.24,32.72,31.57,36.88,32.64,33.75,28.8,35.93,27.46,30.02,32.49,32.53,30.89,36.07,32.68,31.84,29.86,34.81,26.97,44.71,29.59,36.2,33.44,36.25,27.52,29.59,28.04,33.27,25.63,33.36,31.5,41.67,31.24,31.39,28.2,30.78,33.01,34.3,37.86,37.34,31.44,39.72,22.23,35.43,29.13,39.27,30,39.25,32.24,21.67,29.54,22.44,32.98,42.44,19.5,37.39,24.31,42.04,39.6,27.39,30.56,31.62,29.92,46.2,32.71,28.08,35.51,33.11,31.62,31.49,34.47,26.15,25.61,41.07,20.66,32.07,26.02,33.49,37.55,20.59,36.93,31.73,24.6,21.38,35.9,31.13,33.19,36.5,41.5,31.43,28.94,39.86,27.09,25.63,29.08,45.45,27.42,34.27,25.52,25.54,30.17,39.5,29.42,36.64,23.98,29.8,27.73,29.97,38.82,31.41,32.95,33.4,28.62,24.14,30.18,32.71,37.6,30.59,30.34,40.88,27.74,34.33,28.79,34.28,23.5,29.15,30.46,37.54,29.42,33.64,29.7,27.32,35.79,29.47,39.42,34.44,31.17,34.51,31.78,34.51,29.75,20.25,32.86,35.63,26.6,25.87,29.59,29.16,34.3,32.74,37.69,41.09,31.9,31.87,33.38,30.15,31.38,31.46,33.45,32.76,30.67,32.32,31.03,36.37,32.04,28.54,30.61,28.2,33.11,36.66,35.48,33.11,31.5,33.59,31.7,20.77,33.97,29.95,38.98,43.93,25.18,35.24,32.68,29.12,35.41,35.9,31.49,30.38,26.03,28.56,30.72,30.62,37.25,30.54,42.42,29.64,40.67,32.89,26.03,35.17,32.15,30.04,36.69,34.82,37.6,26.38,28.91,26.43,15.39,33.83,38.82,35.69,24.68,27.32,22.16,38.77,30.16,26.68,36.84,30.61,23.65,31.87,32.15,32.9,34.26,28.55,35.5,25.39,39.41,28.71,34.43,35.37,30.35,23.2,30.13,28.8,29.85,36.65,35.77,33.31,28.09,46.37,23.05,23.16,33.87,47,30.2,25.09,29.63,46.02,27.76,29.21,30.51,36.11,35.68,29.5,21.4,42.35,25.13,29.31,33.18,34.32,25.28,33.72,36.88,34.61,36.78,27.12,31.29,38.03,34.85,34.19,37.87,29.53,35.44,27.5,30.55,32.85,35.13,17.37,38.25,34.32,39.43,38.07,35.56,32.97,35.59,31.64,35.55,34,36.64,28.28,29.85,34.23,25.91,29.89,33.62,41.86,36.48,24.74,21.8,26.4,26.25,28.42,34.1,37.68,32.72,34.07,21.62,34.86,36.73,27.59,29.29,30.84,29.45,33.65,28.67,29.59,28.04,36.29,25.28,36.9,33.4,31.64,33.11,45.63,34.59,39.29,35.68,31.24,24.24,38.6,33.64,34.51,34.41,30.82,30.28,28.19,18.82,23.29,41.67,19,34.16,35.11,26.26,37.63,29.18,32.26,39.66,29.62,31.26,39.14,31.61,29.69,38.28,29.65,39.68,30.37,35.2,17.28,24.3,50.17,36.71,38.39,33.53,31.93,17.28,32.67,29.25,39.59,29.77,39.68,36.06,36.05,27.97,21.56,34.45,34.51,23.61,31.56,30.13,32.3,28.2,30.33,25.43,37.61,29.37,28.37,35.73,31.42,29.5,39.38,37.42,25.42,28.84,37.4,22.88,25.84,25.56,25.74,24.93,31.22,39.91,26.28,26.37,38.02,20.92,26.24,36.58,35.35,37.96,32.95,40.34,30.81,31.4,30.03,33.8,20.93,31.18,26.87,33.53,36.49,29.63,35.15,32.97,38.12,28.77,22.44,35.6,30.97,35.52,31.82,37.51,28.47,33.38,35.16,28.51,36.72,38.08,18.77,28.14,32.16,41.45,25.79,37.97,39.18,26.56,30.75,31.22,34.18,21.33,13.74,37.18,32.2,30.58,33.89,32.82,37.17,19.8,22.14,41.31,22.8,22.45,31.85,32.36,23.96,29.69,35.17,28.66,31.62,39.34,27.78,35.04,22.6,29.1,43.35,34.33,37.55,39.49,31.42,32.23,38.16,33.32,26.29,29.3,34.11,31.19,28.42,32.31,30.64,38.8,31.02,38.8,26.05,29.28,22.59,32.22,28.91,17.93,28.17,24.05,33.74,30.11,21.38,33.34,30,45.38,35.26,28.83,34.24,31.75,34.42,44.29,28.78,35.3,39.01,26.99,24.43,30.42,32.45,33.86,35.11,26.86,41.5,40.74,26.29,34.03,34.41,27.17,36.19,32.35,44.64,24.85,26.06,40.19,30.73,35.66,25.62,37.95,34.33,36.27,28.02,34.8,32.85,33.7,33.74,35.89,29.46,41.34,27.26,26.21,34.92,32.43,26.36,32.79,30.79,26.62,33.84,40.73,38.98,47.88,35.76,28.28,31.1,35.9,26.2,26.74,26.8,33.24,33.98,28.35,31.3,41.03,29.21,29.15,39.39,32.48,34.96,40.21,36.82,34.73,30.64,27.99,36.81,27.82,34.22,29.08,32,36.5,33.48,29.87,30.21,41.24,16.16,35.42,19.88,30.5,26.93,30.32,45.95,42.64,31.93,25.11,36.26,36.42,23.76,35.22,27.38,27.74,25.35,32.1,24.48,21.05,20.14,32.37,36.73,27.69,28.94,35.89,33.05,41.02,31.03,30.01,43.89,31.28,24.78,35.63,32.5,34.46,34.99,40.91,39.27,31.46,34.11,36.26,34.24,31.85,39.38,36.1,29.54,27.95,27.32,24.63,35.62,30.04,32.27,26.03,32.2,17.57,20.19,38.01,22.74,29.21,24.9,28.37,32.61,41.28,39.93,33.14,29.06,33.39,26.67,32.29,39,29.43,29.05,36.57,33.95,34.49,36.84,31.4,18.59,36.05,23.92,34.07,35.66,31.7,32.93,38.6,36.56,39.15,24.96,26.85,34.02,31.94,28.75,37.09,31.48,37.38,27.06,33.31,28.11,24.82,36.55,35.2,24.53,33.75,30.55,25.49,33.03,34.79,32.31,39.59,36.9,23.87,43.05,36.98,35.46,39.04,24.32,32.43,22.5,36.24,32.86,29.18,33.43,38.61,34.39,33.78,38.12,45.13,36.06,27.05,36.17,39.19,34.46,27.32,26.24,32.02,24.19,34.73,37.3,34.83,25.89,30.39,42.58,19.02,29.66,30.9,37.95,28.81,30.84,29.73,34.18,24.65,44.71,30.07,30.23,29.64,30.74,31.69,29.95,34.61,31.66,20.3,26.49,29.15,44.16,33.79,24.98,43.43,35.03,43.06,30.42,34.65,24.42,37.08,27.49,28.43,40.19,26.82,25.54,36.36,27.62,37.44,43.59,42.05,34.16,31.47,36.07,38.24,36.36,36.16,30.28,18.29,31.59,26.9,38.79,33.01,36.61,35.69,24.5,35.66,35.99,33.62,26.86,38.87,22.71,40.15,38,30.26,42.29,33.52,28.52,37.05,33.16,21.47,30.39,23,28.64,29.51,39.47,23.9,32.57,33.09,29.58,27.91,36.08,34.61,33.34,33.46,41.04,37.43,30.09,31.19,30.49,38.78,29.76,26,35.22,37.34,35.76,37.75,32.9,22.44,33.98,38.07,35.93,28.24,36.36,39.27,43.03,39.07,32.64,37.14,39.33,37.4,35.61,37.54,23.14,30.59,42.49,35.86,28.23,30.14,26.38,41.08,22.36,41.92,24.31,40.39,44.35,34.47,32.81,30.31,39.57,40.54,31.77,26.51,38.46,32.71,31.56,33.35,29.43,32.27,49.01,37.51,29.44,34.75,25.76,24.87,27.1,28.38,30.52,21.94,33.26,35.85,39.08,24.53,32.37,35.09,32.99,21.64,44.88,36.47,31.81,27.12,34.58,41.35,41.19,32.98,29.23,32.58,25.51,36.6,33.44,26.61,44.28,28.78,27.01,27.07,29.09,33.43,30.79,40.47,25.15,38.89,30.66,28.57,26.42,31.71,27.06,26.88,38.88,41.9,28.54,30.95,25.16,30.93,34.36,32.79,30.6,28.04,32.8,21.39,27.67,36.35,27.9,18.24,23.42,40.4,42.26,21.97,35.1,30.01,28.79,35.35,34.9,30.1,28.29,30.34,28.88,23.68,38.53,24.98,28.29,29.68,25.09,27.61,38.26,36.05,40.72,38.07,26.6,36.58,23.37,39.25,40.44,31.87,28.65,32.61,34.1,26.77,39.08,36.72,37.4,30.27,32.18,36.35,33.87,37.2,35.13,33.42,30.75,33.71,23.16,27.06,36.71,21.21,37.22,32.57,26.26,35.9,32.96,26.18,28.26,26.42,44.85,25.56,20.22)

#parity
  
par= sample(x=c("0", "1", "2", "3", "4", "5"),
      prob = c(.5, .25, .20, .03, .01, .01),
      size=1000,
replace=TRUE)

#gest age
  
gest= sample(x=c("1", "2", "3", "4"),
      prob = c(.079, .915, .03, .03),
      size=1000,
replace=TRUE)
  
# birth weight
  
bw = sample(x=c("1", "2", "3", "4", "5"),
      prob = c(.009, .056, .917, .012, .006),
      size=1000,
replace=TRUE)

# exp 1: infection in preg
exp_flu = sample(x=c("0", "1"),
      prob = c(.98, .02),
      size=1000,
replace=TRUE)

# exp 2: vax in preg
exp_vax = sample(x=c("0", "1"),
      prob = c(.58, .42),
      size=1000,
replace=TRUE)

#survival time

#survt

# days at diagnosis

#dxdays
```


```{r}
# create data frame

#put all vectors into a list

tmp = mget(ls())


#turn list into a data frame
data = as.data.frame(do.call(cbind, tmp))

data= data %>%
  relocate(id)

#output data
write.csv(data, "D:\\DocumentsHDD\\uOttawa\\Thesis\\R coding\\FakeData\\Data\\fakedata.csv", row.names=FALSE)
```

#Age vector
```{r}

#set.seed(100)
#create age
agetst = round(rnorm(n = 1000, mean = 32, sd = 5.5),1)
#check dist
stview(dfSummary(agetst))
#create vector so I can copy it
agevec = paste0(agetst, collapse=",")

agevec




set.seed(100)
#create age
survtst = round(rnorm(n = 1000, mean = 3650, sd = 10),0)
#check dist
stview(dfSummary(survtst))

survvec1 = paste0(survtst, collapse=",")

survvec
```

